(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{521:function(t,a,v){"use strict";v.r(a);var _=v(3),s=Object(_.a)({},(function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h3",{attrs:{id:"索引原理分析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#索引原理分析"}},[t._v("#")]),t._v(" 索引原理分析")]),t._v(" "),v("h4",{attrs:{id:"聚簇索引"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#聚簇索引"}},[t._v("#")]),t._v(" 聚簇索引")]),t._v(" "),v("h4",{attrs:{id:"二级索引"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二级索引"}},[t._v("#")]),t._v(" 二级索引")]),t._v(" "),v("h4",{attrs:{id:"联合索引"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#联合索引"}},[t._v("#")]),t._v(" 联合索引")]),t._v(" "),v("blockquote",[v("p",[t._v("如果不是按照最左开始查找，无法使用索引")]),t._v(" "),v("p",[t._v("不能跳过中间列")]),t._v(" "),v("p",[t._v("某列使用范围查询，后面的列不能使用索引")])]),t._v(" "),v("h3",{attrs:{id:"索引使用优化分析"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#索引使用优化分析"}},[t._v("#")]),t._v(" 索引使用优化分析")]),t._v(" "),v("h4",{attrs:{id:"存储空间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#存储空间"}},[t._v("#")]),t._v(" 存储空间")]),t._v(" "),v("blockquote",[v("ul",[v("li",[t._v("索引文件大小")]),t._v(" "),v("li",[t._v("字段大小->页内节点个数->树的层数")])])]),t._v(" "),v("h4",{attrs:{id:"主键选择"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主键选择"}},[t._v("#")]),t._v(" 主键选择")]),t._v(" "),v("blockquote",[v("ul",[v("li",[t._v("自增主键,顺序写入,效率高")]),t._v(" "),v("li",[t._v("随机主键,结点分裂,数据移动")])])]),t._v(" "),v("p",[v("img",{attrs:{src:"C:%5CUsers%5CDell%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210603151251840.png",alt:"image-20210603151251840"}})]),t._v(" "),v("h4",{attrs:{id:"联合索引使用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#联合索引使用"}},[t._v("#")]),t._v(" 联合索引使用")]),t._v(" "),v("blockquote",[v("ul",[v("li",[t._v("按索引区分度排序")]),t._v(" "),v("li",[t._v("覆盖索引")]),t._v(" "),v("li",[t._v("索引下推")])])]),t._v(" "),v("h4",{attrs:{id:"字符串索引"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#字符串索引"}},[t._v("#")]),t._v(" 字符串索引")]),t._v(" "),v("blockquote",[v("ul",[v("li",[t._v("设置合理长度")]),t._v(" "),v("li",[t._v("不支持%开头的模糊查询")])])]),t._v(" "),v("h3",{attrs:{id:"索引失效问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#索引失效问题"}},[t._v("#")]),t._v(" 索引失效问题")]),t._v(" "),v("h4",{attrs:{id:"or"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#or"}},[t._v("#")]),t._v(" OR")]),t._v(" "),v("h4",{attrs:{id:"隐式类型转换"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#隐式类型转换"}},[t._v("#")]),t._v(" 隐式类型转换")]),t._v(" "),v("h4",{attrs:{id:"索引包含计算"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#索引包含计算"}},[t._v("#")]),t._v(" 索引包含计算")]),t._v(" "),v("h4",{attrs:{id:"数据范围"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#数据范围"}},[t._v("#")]),t._v(" 数据范围")]),t._v(" "),v("h3",{attrs:{id:"mysql库表设计实践"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#mysql库表设计实践"}},[t._v("#")]),t._v(" Mysql库表设计实践")]),t._v(" "),v("blockquote",[v("p",[t._v("联合索引:优于多列独立索引")]),t._v(" "),v("p",[t._v("索引顺序:选择性高的在前面")]),t._v(" "),v("p",[t._v("覆盖索引:Key里面包含要查询的数据")]),t._v(" "),v("p",[t._v("索引排序:索引同时满足查询和排序")])]),t._v(" "),v("blockquote",[v("p",[t._v("数据库字符集使用UTF8mb4")]),t._v(" "),v("p",[t._v("VARCHAR按实际需要分配长度")]),t._v(" "),v("p",[t._v("文本字段建议使用VARCHAR")]),t._v(" "),v("p",[t._v("时间字段建议使用long")]),t._v(" "),v("p",[t._v("bool字段建议使用tinyint")]),t._v(" "),v("p",[t._v("枚举字段建议使用tinyint")]),t._v(" "),v("p",[t._v("交易金额建议使用long")]),t._v(" "),v("p",[t._v('禁止使用"%"前导的查询')]),t._v(" "),v("p",[t._v("禁止在索引列进行数学运算,会导致索引失效")])]),t._v(" "),v("blockquote",[v("p",[t._v("表必须有主键,建议使用业务主键")]),t._v(" "),v("p",[t._v("单张表中索引数量不超过5个")]),t._v(" "),v("p",[t._v("单个索引字段数不超过5个")]),t._v(" "),v("p",[t._v("字符串索引使用前缀索引,前缀长度不超过10个字符")])]),t._v(" "),v("blockquote",[v("p",[t._v("是否分表")]),t._v(" "),v("ul",[v("li",[t._v("建议单表不超过1kw")])]),t._v(" "),v("p",[t._v("分表方式")]),t._v(" "),v("ul",[v("li",[t._v("取模:存储均匀&访问均匀")]),t._v(" "),v("li",[t._v("按时间:冷热库")])]),t._v(" "),v("p",[t._v("分库")]),t._v(" "),v("ul",[v("li",[t._v("按业务垂直分表")]),t._v(" "),v("li",[t._v("水平查分多个库")])])]),t._v(" "),v("h3",{attrs:{id:"分布分表方案"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分布分表方案"}},[t._v("#")]),t._v(" 分布分表方案")]),t._v(" "),v("h4",{attrs:{id:"水平拆分"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#水平拆分"}},[t._v("#")]),t._v(" 水平拆分")]),t._v(" "),v("h4",{attrs:{id:"垂直拆分"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#垂直拆分"}},[t._v("#")]),t._v(" 垂直拆分")])])}),[],!1,null,null,null);a.default=s.exports}}]);